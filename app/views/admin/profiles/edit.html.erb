<h1 class="h1">Update Information</h1>

<%= form_with model: @admin, url: profile_path, method: :patch, class: "space-y-4" do |f| %>

  <div class="mb-5">
    <% if f.object.errors.any? %>
      <div class="p-4 border border-red-500 bg-red-100 rounded-md">
        <% f.object.errors.full_messages.each do |message| %>
          <p class="text-base text-red-600 dark:text-red-500"><%= message %></p>
        <% end %>
      </div>
    <% end %>
  </div>

  <div class="flex flex-col">
    <%= render "layouts/shared/profile_picture", resource: @admin, other_classes: "w-20 h-20 rounded-full" %>
    <%= f.label :profile_picture, class: "form-label mt-4" %>
    <%= f.file_field :profile_picture, accept: Admin::ADMIN_PROFILE_PICTURE_TYPES.join(","), direct_upload: true, class: "form-input" %>
  </div>

  <div class="flex flex-col">
    <%= f.label :name, class: "form-label" %>
    <%= f.text_field :name, required: true, class: "form-input" %>
  </div>

  <div class="flex flex-col">
    <%= f.label :bio, class: "form-label" %>
    <%= f.text_area :bio, cols: "50", rows: "5", class: "form-input" %>
  </div>

  <div class="flex flex-col">
    <%= f.label "Current Password", class: "form-label" %>
    <%= f.password_field :current_password, class: "form-input" %>
    <small>(Required to update password)</small>
  </div>

  <div class="flex flex-col">
    <%= f.label "New Password", class: "form-label" %>
    <%= f.password_field :password, class: "form-input" %>
  </div>

  <div class="flex flex-col">
    <%= f.label "Confirm New Password", class: "form-label" %>
    <%= f.password_field :password_confirmation, class: "form-input" %>
  </div>

  <% if policy(@admin).super_admin? %>
    <div class="flex flex-col">
      <%= f.label :role, class: "form-label" %>
      <%= f.select :role, Admin.roles.keys.map { |role| [role.humanize, role] }, {}, { class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" } %>
    </div>
  <% end %>

  <div class="flex flex-col">
    <%= f.label :website, class: "form-label" %>
    <%= f.text_field :website, class: "form-input" %>
  </div>

  <div class="flex flex-col">
    <%= f.label :whatsapp_number, class: "form-label" %>
    <%= f.text_field :whatsapp_number, class: "form-input" %>
  </div>

  <div class="flex flex-col">
    <%= f.label :github, class: "form-label" %>
    <%= f.text_field :github, class: "form-input" %>
  </div>

  <div class="flex flex-col">
    <%= f.label :facebook, class: "form-label" %>
    <%= f.text_field :facebook, class: "form-input" %>
  </div>

  <div class="flex flex-col">
    <%= f.label :linkedin, class: "form-label" %>
    <%= f.text_field :linkedin, class: "form-input" %>
  </div>

  <div class="flex flex-col">
    <%= f.label :instagram, class: "form-label" %>
    <%= f.text_field :instagram, class: "form-input" %>
  </div>

  <div class="space-x-3">
    <%= f.submit "Update Information", class: "button" %>
    <% if @admin.persisted? %>
      <%= link_to "Cancel", profiles_path, class: "outline-button" %>
    <% end %>
  </div>
<% end %>